# Rime schema
# encoding: utf-8

schema:
  author: "haoran"
  name: "å°é¹¤åŒæ‹¼"
  schema_id: flypy
  version: 0.9

# å¼€å…³
switches:
  - name: ascii_mode
    states: [ "ä¸­", "A" ]
    reset: 1                  # é»˜è®¤è¥¿æ–‡
  # - name: simplification
  #   states: [ "ç¹", "ç®€" ]
  #   reset: 1                # é»˜è®¤ç®€ä½“
  - name: full_shape
    states: [ "åŠè§’", "å…¨è§’" ]
    reset: 0                  # é»˜è®¤åŠè§’
  - name: emoji_suggestion    # è¦å’Œä¸‹é¢ simplifier çš„ option_name ä¿æŒä¸€è‡´
    states: [ "ğŸˆšï¸ï¸", "ğŸˆ¶ï¸ï¸" ]
    reset: 1                  # é»˜è®¤å¼€å¯ emoji

# å¼•æ“
engine:
  processors:          # è¿™æ‰¹ç»„ä»¶å¤„ç†æŒ‰é”®æ¶ˆæ¯
    - ascii_composer   # å¤„ç†è¥¿æ–‡æ¨¡å¼åŠä¸­è¥¿æ–‡åˆ‡æ¢
    - recognizer       # ä¸ segmentors ä¸­çš„ matcher æ­é…ï¼Œå¤„ç†ç¬¦åˆç‰¹å®šè§„åˆ™çš„è¾“å…¥ç ï¼Œå¦‚ç½‘å€ã€åæŸ¥ç­‰
    - key_binder       # åœ¨ç‰¹å®šæ¡ä»¶ä¸‹å°†æŒ‰é”®ç»‘å®šåˆ°å…¶ä»–æŒ‰é”®ï¼Œå¦‚é‡å®šä¹‰é€—å·ã€å¥å·ä¸å€™é€‰ç¿»é¡µã€å¼€å…³å¿«æ·é”®ç­‰
    - speller          # æ‹¼å†™å¤„ç†å™¨ï¼Œæ¥å—å­—ç¬¦æŒ‰é”®ï¼Œç¼–è¾‘è¾“å…¥
    - punctuator       # å¥è¯»å¤„ç†å™¨ï¼Œå°†å•ä¸ªå­—ç¬¦å¿«æ·é”®ç›´æ¥æ˜ å°„ä¸ºæ ‡ç‚¹ç¬¦å·æˆ–æ–‡å­—
    - selector         # é€‰å­—å¤„ç†å™¨ï¼Œå¤„ç†æ•°å­—é€‰å­—é”®ã€”å¯ä»¥æ¢æˆå…¶ä»–ã€•ã€ä¸Šã€ä¸‹å®šä½å€™é€‰ã€æ¢é¡µ
    - navigator        # å¤„ç†è¾“å…¥æ å†…éƒ¨çš„ç§»åŠ¨
    - express_editor   # ç¼–è¾‘å™¨ï¼Œå¤„ç†ç©ºæ ¼ã€å›è½¦ä¸Šå±ã€å›é€€é”®
  segmentors:              # è¿™æ‰¹ç»„ä»¶è¯†åˆ«ä¸ç”¨çš„å†…å®¹ç±»å‹ï¼Œå°†è¾“å…¥ç åˆ†æ®µå¹¶åŠ ä¸Š tag
    - ascii_segmentor      # æ ‡è¯†è¥¿æ–‡æ®µè½ã€”æ¯”å–»å¦‚åœ¨è¥¿æ–‡æ¨¡å¼ä¸‹ã€•å­—æ¯ç›´æ¥ä¸Šå±›
    - matcher              # ä¸ processors ä¸­çš„ recognizer æ­é…ï¼Œå¤„ç†ç¬¦åˆç‰¹å®šè§„åˆ™çš„è¾“å…¥ç ï¼Œå¦‚ç½‘å€ã€åæŸ¥ç­‰
    - abc_segmentor        # ç¬¦å·æƒ¯ç”¨çš„æ–‡å­—æ®µè½ï¼ŒåŠ ä¸Šabcè¿™ä¸ªtag
    - punct_segmentor      # ç¬¦å·å¥è¯»å¥å­ã€”é”®å…¥æ ‡ç‚¹ç¬¦å·ç”¨ã€•åŠ ä¸Špunctè¿™ä¸ªtag
    - fallback_segmentor   # å…¶ä»–æ ‡è¯†æœªæ ‡è¯†æ–‡å­—
  translators:                         # è¿™æ‰¹ç»„ä»¶ç¿»è¯‘ç‰¹å®šç±»å‹çš„ç¼–ç æ®µä¸ºä¸€ç»„å€™é€‰å­—
    - punct_translator                 # é…åˆpunct_segmentorè½¬æ¢æ ‡ç‚¹ç¬¦å·
    - reverse_lookup_translator        # åæŸ¥ç¿»è¯‘å™¨ï¼Œç”¨å¦ä¸€ç§ç¼–ç æ–¹æ¡ˆæŸ¥ç 
    - script_translator                # è„šæœ¬ç¿»è¯‘å™¨ï¼Œç”¨äºæ‹¼éŸ³ã€ç²¤æ‹¼ç­‰åŸºäºéŸ³èŠ‚è¡¨çš„è¾“å…¥æ–¹æ¡ˆ
    - table_translator@custom_phrase   # è‡ªå®šä¹‰çŸ­è¯­ custom_phrase.txt
  filters:                             # è¿™æ‰¹ç»„ä»¶è¿‡æ»¤è½¬æ¢çš„ç»“æœ
    - simplifier@emoji_suggestion      # Emojiï¼Œè¦å’Œä¸‹é¢ Emoji çš„ option_name ä¿æŒä¸€è‡´
    - simplifier                       # ç®€ç¹è½¬æ¢
    - uniquifier                       # è¿‡æ»¤çš„é‡å¤å€™é€‰å­—ï¼Œæœ‰å¯èƒ½æ¥è‡ªsimplifier

# è‡ªå®šä¹‰çŸ­è¯­
custom_phrase:
  dictionary: ""
  user_dict: custom_phrase
  db_class: stabledb
  enable_completion: false # è¡¥å…¨æç¤º
  enable_sentence: false   # ç¦æ­¢é€ å¥
  initial_quality: 99      # ç»™äºˆ custom_phrase æ›´å¤§çš„æƒé‡

# Emojiï¼Œè¦å’Œ switchesã€engine ä¸­çš„é…ç½®ä¿æŒä¸€è‡´
emoji_suggestion:
  opencc_config: emoji.json
  option_name: emoji_suggestion

speller:
  algebra:
    - "erase/^xx$/"
    - "derive/^([jqxy])u$/$1v/"
    - "derive/^([aoe])([ioun])$/$1$1$2/"
    - "xform/^([aoe])(ng)?$/$1$1$2/"
    - "xform/iu$/Q/"
    - "xform/(.)ei$/$1W/"
    - "xform/uan$/R/"
    - "xform/[uv]e$/T/"
    - "xform/un$/Y/"
    - "xform/^sh/U/"
    - "xform/^ch/I/"
    - "xform/^zh/V/"
    - "xform/uo$/O/"
    - "xform/ie$/P/"
    - "xform/i?ong$/S/"
    - "xform/ing$|uai$/K/"
    - "xform/(.)ai$/$1D/"
    - "xform/(.)en$/$1F/"
    - "xform/(.)eng$/$1G/"
    - "xform/[iu]ang$/L/"
    - "xform/(.)ang$/$1H/"
    - "xform/ian$/M/"
    - "xform/(.)an$/$1J/"
    - "xform/(.)ou$/$1Z/"
    - "xform/[iu]a$/X/"
    - "xform/iao$/N/"
    - "xform/(.)ao$/$1C/"
    - "xform/ui$/V/"
    - "xform/in$/B/"
    - "xlit/QWRTYUIOPSDFGHJKLZXCVBNM/qwrtyuiopsdfghjklzxcvbnm/"
  alphabet: zyxwvutsrqponmlkjihgfedcba
  delimiter: " '"

# ä¸»ç¿»è¯‘å™¨
translator:
  dictionary: dict_ice
  prism: double_pinyin_flypy  # å¤šæ–¹æ¡ˆå…±ç”¨ä¸€ä¸ªè¯åº“æ—¶ï¼Œä¸ºé¿å…å†²çªï¼Œéœ€è¦ç”¨ prism æŒ‡å®šä¸€ä¸ªåå­—
  preedit_format:
    - "xform/([bpmfdtnljqx])n/$1iao/"
    - "xform/(\\w)g/$1eng/"
    - "xform/(\\w)q/$1iu/"
    - "xform/(\\w)w/$1ei/"
    - "xform/([dtnlgkhjqxyvuirzcs])r/$1uan/"
    - "xform/(\\w)t/$1ve/"
    - "xform/(\\w)y/$1un/"
    - "xform/([dtnlgkhvuirzcs])o/$1uo/"
    - "xform/(\\w)p/$1ie/"
    - "xform/([jqx])s/$1iong/"
    - "xform/(\\w)s/$1ong/"
    - "xform/(\\w)d/$1ai/"
    - "xform/(\\w)f/$1en/"
    - "xform/(\\w)h/$1ang/"
    - "xform/(\\w)j/$1an/"
    - "xform/([gkhvuirzcs])k/$1uai/"
    - "xform/(\\w)k/$1ing/"
    - "xform/([jqxnl])l/$1iang/"
    - "xform/(\\w)l/$1uang/"
    - "xform/(\\w)z/$1ou/"
    - "xform/([gkhvuirzcs])x/$1ua/"
    - "xform/(\\w)x/$1ia/"
    - "xform/(\\w)c/$1ao/"
    - "xform/([dtgkhvuirzcs])v/$1ui/"
    - "xform/(\\w)b/$1in/"
    - "xform/(\\w)m/$1ian/"
    - "xform/([aoe])\\1(\\w)/$1$2/"
    - "xform/(^|[ '])v/$1zh/"
    - "xform/(^|[ '])i/$1ch/"
    - "xform/(^|[ '])u/$1sh/"
    - "xform/([jqxy])v/$1u/"
    - "xform/([nl])v/$1Ã¼/"


############################################

# æ ‡ç‚¹ç¬¦å·
# half_shape åŠè§’æ ‡ç‚¹æ˜ å°„
# symbols    Rime é¢„è®¾é…ç½®æ˜¯ä»¥ '/' å‰ç¼€å¼€å¤´è¾“å‡ºä¸€ç³»åˆ—å­—ç¬¦ï¼Œè‡ªå®šä¹‰çš„ symbols_caps_s.yaml ä¿®æ”¹æˆäº† 'S' å¼€å¤´
punctuator:
  half_shape:
    __include: default:/punctuator/half_shape  # ä» default.yaml å¯¼å…¥é…ç½®
  symbols:
    __include: symbols:/symbols         # ä» symbols.yaml å¯¼å…¥é…ç½®

# å¤„ç†ç¬¦åˆç‰¹å®šè§„åˆ™çš„è¾“å…¥ç ï¼Œå¦‚ç½‘å€ã€é‚®ç®±
recognizer:
  import_preset: default  # ä» default.yaml ç»§æ‰¿é€šç”¨çš„
  patterns:  # å¢åŠ æ–¹æ¡ˆä¸“æœ‰çš„ï¼š
    punct: "^/([0-9]0?0?|[A-Za-z]+)$"  # å“åº” symbols.yaml çš„ symbolsï¼Œå…è®¸æ•°å­—é€‰æ‹©ï¼

# ä» default ç»§æ‰¿å¿«æ·é”®
key_binder:
  import_preset: default  # ä» default.yaml ç»§æ‰¿é€šç”¨çš„
  # bindings:             # æ–¹æ¡ˆä¸“æœ‰å¿«æ·é”®
